<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¡å¯†éªŒè¯ | ä¸‹è½½</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .card-shadow { box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        /* è§†é¢‘å¼¹çª—æ ·å¼ */
        .video-modal {
            display: none; /* é»˜è®¤éšè— */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .video-content {
            width: 100%;
            max-width: 800px;
            border-radius: 8px;
            overflow: hidden;
        }
        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-gray-50 flex items-center justify-center min-h-screen p-4">
    <!-- ä¸»å¡ç‰‡ -->
    <div class="w-full max-w-md bg-white rounded-xl p-6 card-shadow">
        <!-- é¡¶éƒ¨Logo -->
        <div class="text-center mb-6">
            <span class="text-3xl font-bold text-gray-800 flex items-center justify-center gap-2">
                <span class="text-blue-500">â˜…</span> PPæ¢è‚¤
            </span>
        </div>

        <!-- æ›´æ–°å…¬å‘ŠåŒºåŸŸ -->
        <div class="bg-blue-50 border-l-4 border-blue-400 rounded-r p-4 mb-6">
            <div class="font-medium text-blue-800 mb-1">æ›´æ–°å…¬å‘Š</div>
            <div class="text-sm text-gray-600 mb-1">ç°åœ¨åªæœ‰æ¢è‚¤ç‰ˆæœ¬,å…¶ä½™ç‰ˆæœ¬æ¦‚ä¸è´Ÿè´£</div>
            <div class="text-xs text-gray-500 mb-1">æœ€åæ›´æ–°: 2025-12-24</div>
            <!-- æ›¿æ¢æˆä½ çš„QQé“¾æ¥ -->
            <a href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=153907109" 
               class="text-xs text-blue-500 hover:underline"
               target="_blank">åœ¨çº¿å®¢æœ: ç‚¹å‡»æ·»åŠ QQå®¢æœ</a>
        </div>

        <!-- è§†é¢‘é¢„è§ˆæŒ‰é’® -->
        <button 
            class="w-full border border-gray-200 rounded-lg p-3 text-green-500 flex items-center justify-center gap-2 mb-6"
            onclick="openVideoModal()"
        >
            <span class="text-sm">ğŸ“¹ æŸ¥çœ‹æ•ˆæœæ¼”ç¤º</span>
            <span class="text-xs text-gray-500">ç‚¹å‡»è§‚çœ‹å®‰è£…åŒ…ä½¿ç”¨æ•ˆæœ</span>
        </button>

        <!-- å¸®åŠ©æ–‡æ¡£ä¸‹è½½æŒ‰é’® -->
        <button 
            class="w-full border border-gray-200 rounded-lg p-3 text-blue-500 flex items-center justify-center gap-2 mb-6"
            onclick="downloadHelpDoc()"
        >
            <span class="text-sm">ğŸ“™ ä¸‹è½½å¸®åŠ©æ–‡æ¡£</span>
            <span class="text-xs text-gray-500">æŸ¥çœ‹ä½¿ç”¨è¯´æ˜åŠå¸¸è§é—®é¢˜è§£ç­”</span>
        </button>

        <!-- å¡å¯†è¾“å…¥åŒºåŸŸ -->
        <div class="mb-6">
            <div class="text-sm text-gray-700 mb-2">è·å–ç‰ˆæœ¬</div>
            <input 
                type="text" 
                placeholder="æ­¤å¤„è¾“å…¥å¡å·" 
                class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-400"
                id="cardKeyInput"
            >
        </div>

        <!-- ä¸‹è½½æŒ‰é’® -->
        <button 
            class="w-full bg-blue-500 text-white rounded-lg p-3 font-medium hover:bg-blue-600 transition disabled:bg-gray-300 disabled:cursor-not-allowed"
            id="downloadBtn"
            disabled
            onclick="verifyCardKey()"
        >
            â†‘ Download
        </button>
    </div>

    <!-- è§†é¢‘å¼¹çª— -->
    <div class="video-modal" id="videoModal">
        <span class="close-btn" onclick="closeVideoModal()">Ã—</span>
        <div class="video-content">
            <!-- æ›¿æ¢æˆä½ çš„è§†é¢‘æ–‡ä»¶å/åœ°å€ -->
            <video width="100%" height="auto" controls autoplay muted>
                <source src="æ¼”ç¤ºè§†é¢‘.mp4" type="video/mp4">
                ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ï¼Œè¯·æ›´æ¢æµè§ˆå™¨é‡è¯•ï¼
            </video>
        </div>
    </div>

    <script>
        // ========== æ ¸å¿ƒé…ç½® ==========
        // 1. æœ‰æ•ˆå¡å¯†åˆ—è¡¨
        const VALID_CARD_KEYS = [
            "CKTKIJOD3ATD833931X3OBT0",
            "CKT2F9ZL7P4WQ5R1S8GV0NY3",
            "CKTME5RX8BJ2KD3NU7PQ9A0Z",
        ];
        // 2. å®‰è£…åŒ…æ–‡ä»¶åï¼ˆGitHubéƒ¨ç½²å†™æ–‡ä»¶åï¼Œæœ¬åœ°æµ‹è¯•å†™ç»å¯¹è·¯å¾„ï¼‰
        const INSTALL_PACKAGE_NAME = "PPæ¢è‚¤.exe";
        // 3. å¸®åŠ©æ–‡æ¡£æ–‡ä»¶åï¼ˆGitHubéƒ¨ç½²å†™æ–‡ä»¶åï¼Œæœ¬åœ°æµ‹è¯•å†™ç»å¯¹è·¯å¾„ï¼‰
        const HELP_DOC_NAME = "å¸®åŠ©æ–‡æ¡£.txt";
        
        // è¾“å…¥å¡å¯†å¯ç”¨æŒ‰é’®
        const cardInput = document.getElementById('cardKeyInput');
        const downloadBtn = document.getElementById('downloadBtn');
        cardInput.addEventListener('input', () => {
            downloadBtn.disabled = cardInput.value.trim() === '';
        });

        // éªŒè¯å¡å¯†å¹¶è§¦å‘å®‰è£…åŒ…ä¸‹è½½
        function verifyCardKey() {
            const inputKey = cardInput.value.trim();
            if (VALID_CARD_KEYS.includes(inputKey)) {
                const downloadLink = document.createElement('a');
                downloadLink.href = INSTALL_PACKAGE_NAME;
                downloadLink.download = INSTALL_PACKAGE_NAME;
                document.body.appendChild(downloadLink);
                downloadLink.click();
                document.body.removeChild(downloadLink);
                alert('å¡å¯†éªŒè¯æˆåŠŸï¼å¼€å§‹ä¸‹è½½å®‰è£…åŒ…ï½');
            } else {
                alert('å¡å¯†æ— æ•ˆæˆ–å·²è¿‡æœŸï¼Œè¯·æ ¸å¯¹åé‡è¯•ï¼');
                cardInput.focus();
            }
        }

        // ä¸‹è½½å¸®åŠ©æ–‡æ¡£
        function downloadHelpDoc() {
            const downloadLink = document.createElement('a');
            downloadLink.href = HELP_DOC_NAME;
            downloadLink.download = HELP_DOC_NAME;
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
            alert('å¸®åŠ©æ–‡æ¡£å¼€å§‹ä¸‹è½½ï½');
        }

        // è§†é¢‘æ’­æ”¾åŠŸèƒ½
        function openVideoModal() {
            document.getElementById('videoModal').style.display = 'flex';
        }
        function closeVideoModal() {
            const modal = document.getElementById('videoModal');
            modal.style.display = 'none';
            const video = modal.querySelector('video');
            video.pause();
        }
        document.getElementById('videoModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('videoModal')) {
                closeVideoModal();
            }
        });
    </script>
</body>
</html>